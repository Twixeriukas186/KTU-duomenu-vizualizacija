library(ggplot2)
setwd("C:/Users/matas/Desktop/laboratorinis/KTU-duomenu-vizualizacija/laboratorinis/R")
data <- read.csv("../data/lab_sodra.csv")
View(data)
library(tidyverse)
data %>% filter(ecoActCode == "561000") %>%
summarise(n = n()) %>%
arrange(desc(n))
hist(data$avgWage, breaks = 200)
data %>% filter(ecoActCode == "561000") %>%
ggplot(aes(x = avgWage)) + geom_histogram(bins = 200)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 100)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 300)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 1000)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 100)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 10)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) ##+ geom_histogram(bins = 10)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 10000)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 100)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 4002)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 2000)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 200)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 120)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 150)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 140)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 130)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 120)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 130)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 1250)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125, linetype = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125, linetype = 3)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125, col = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125, col = 50)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 125, col = 50, fill = "cyan")
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 150, col = 50, fill = "cyan")
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 200, col = 50, fill = "cyan")
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 100, col = 50, fill = "cyan")
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = "cyan")
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 40)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 20)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 19)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 20)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 18)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 17)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 16)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 17)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 50, fill = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 18, fill = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 110, col = 18, fill = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 80, col = 18, fill = 1)
data %>% filter(ecoActCode == "561000") %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 90, col = 18, fill = 1)
ggsave("uzduotis_1", path = "../img")
ggsave("uzduotis_1", path = "../img/")
ggsave("uzduotis_1", path = "../img/uzduotis_1")
ggsave("../img/uzduotis_1")
ggsave("uzduotis_1.png", path = "../img")
eco.act.code.data <- data %>% filter(ecoActCode == "561000")
sorted.by.avgWage <- eco.act.code.data %>% group_by(code) %>% summarise(avg = mean(avgWage)) %>% arrange(desc(avg))
View(sorted.by.avgWage)
library(lubridate)
View(eco.act.code.data)
as.Date("202001")
as.Date("202001", format(%Y%M))
?as.Date
`date<-`("202001", %Y%m)
date<-("202001", %Y%m)
date<-date("202001", %Y%m)
date("202001", %Y%m)
date("202001",  "%Y%m")
`date<-`("202001", "%Y%m")
date("202001", format(yearmon))
date("202001")
date("202001", tz = tz("202001"))
date("202001")
date()
?date
"202001" date("%Y %m")
"202001" date
date
date()
Date()
Date("202001")
parse_date("202001", format = "%Y %m")
parse_date("202001", format = "%Y %m %d")
parse_date("202001", format = "%Y %m")
parse_date(c(202001), format = "%Y %m")
parse_date(as.character(202001), format = "%Y %m")
?parse_date
parse_date(as.character(202001), format = "%Y %m", trim_ws = TRUE)
parse_date(as.character(202001), format = "%Y %m", trim_ws = FALSE)
parse_date(as.character(202001), format = "%Y %m" - "%d", )
parse_date(as.character(202001), format = "%Y %m"  "%d", )
parse_date(as.character(202001), format = "%Y %m ..%d", )
parse_date(as.character(202001), format = "%Y %m*", )
parse_date(as.character(202001), format = "%Y%m", )
install.packages("zoo")
parse_date(as.character(202001), format = "%Y %m")
format(parse_date(as.character(202001), format = "%Y %m"), format = "%Y %m")
eco.act.code.data$month <- format(parse_date(as.character(eco.act.code.data$month), format = "%Y %m"), format = "%Y %m")
sorted.by.avgWage <- eco.act.code.data %>% group_by(code) %>% summarise(avg = mean(avgWage)) %>% arrange(desc(avg)) %>% head(5)
eco.act.code.data %>% filter(code == sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage))
eco.act.code.data %>% filter(code == sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage)) + geom_line()
eco.act.code.data %>% filter(code == sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage), group_by(code)) + geom_line()
eco.act.code.data %>% filter(code == sorted.by.avgWage$code)
eco.act.code.data %>% filter(code == sorted.by.avgWage$code[1:5])
eco.act.code.data %>% filter(code == sorted.by.avgWage$code[1])
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group_by(code))) + geom_line()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code)
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code)) + geom_line()
?ggplot
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code)) + geom_line()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code)) + geom_line(legend())
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code)) + geom_line(legend(x = 1))
legend("right")
legend("topleft")
?ggplot2
?ggplot
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code, fill=code)) + geom_line()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code, fill=month)) + geom_line()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code, fill=month)) + geom_line() + scale_color_discrete()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code, colorspaces)) + geom_line() + scale_color_discrete()
install.packages("hrbrthemes")
install.packages("viridis")
ary(hrbrthemes)
library
library(hrbrthemes)
library(viridis)
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = code, color = code)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
warnings()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name, size = 2)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name, size = 1)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name, size = .5)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
library(ggplot2)
library(tidyverse)
library(hrbrthemes)
library(viridis)
### 11 561000  Matas	P	2021-03-23	10:20
### 1
data <- read_csv("../data/lab_sodra.csv")
eco.act.code.data <- data %>% filter(ecoActCode == "561000")
eco.act.code.data %>% ggplot(aes(x = avgWage)) + geom_histogram(bins = 90, col = 18, fill = 1)
ggsave("uzduotis_1.png", path = "../img")
### 2
sorted.by.avgWage <- eco.act.code.data %>% group_by(code) %>% summarise(avg = mean(avgWage)) %>% arrange(desc(avg)) %>% head(5)
library(lubridate)
eco.act.code.data$month <- format(parse_date(as.character(eco.act.code.data$month), format = "%Y %m"), format = "%Y %m")
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name, size = .5)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name, size = 50)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum() +
theme(axis.text.x = element_text(angle = 45, size = 10))
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = month, y = avgWage, group = name, color = name)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum() +
theme(axis.text.x = element_text(angle = 30, size = 10))
ggsave("uzduotis_2.png", path = "../img")
ggsave("uzduotis_2.png", path = "../img")
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = name, y = numInsured, group = name, color = name)) + geom_bar()
eco.act.code.data %>% filter(code %in% sorted.by.avgWage$code) %>% ggplot(aes(x = name, y = numInsured, group = name, color = name)) + geom_bar()
eco.act.code.data %>%
filter(code %in% sorted.by.avgWage$code) %>%
group_by(name) %>% slice_max(numInsured, with_ties = FALSE) %>%
ggplot(aes(x = reorder(name, -numInsured), y = numInsured)) +
geom_col(aes(fill = name) +
theme(axis.text.x = element_blank()) +
xlab('name') +
ylab('Apdrausti')
)
eco.act.code.data %>%
filter(code %in% sorted.by.avgWage$code) %>%
group_by(name) %>% slice_max(numInsured, with_ties = FALSE) %>%
ggplot(aes(x = reorder(name, -numInsured), y = numInsured)) +
geom_col(aes(fill = name)) +
theme(axis.text.x = element_blank()) +
xlab('name') +
ylab('Apdrausti')
ggsave("uzduotis_3.png", path = "../img")
### 11 variantas (eco: 561000  Matas	P	2021-03-23	10:20)
library(ggplot2)
library(tidyverse)
library(hrbrthemes)
library(viridis)
library(lubridate)
### 1
data <- read_csv("../data/lab_sodra.csv")
eco.act.code.data <- data %>%
filter(ecoActCode == "561000")
eco.act.code.data %>%
ggplot(aes(x = avgWage)) +
geom_histogram(bins = 90, col = 18, fill = 1)
ggsave("uzduotis_1.png", path = "../img")
### 2
sorted.by.avgWage <- eco.act.code.data %>%
group_by(code) %>%
summarise(avg = mean(avgWage)) %>%
arrange(desc(avg)) %>%
head(5)
eco.act.code.data$month <- format(parse_date(as.character(eco.act.code.data$month), format = "%Y %m"), format = "%Y %m")
eco.act.code.data %>%
filter(code %in% sorted.by.avgWage$code) %>%
ggplot(aes(x = month, y = avgWage, group = name, color = name)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum() +
theme(axis.text.x = element_text(angle = 30, size = 10))
ggsave("uzduotis_2.png", path = "../img")
### 3
eco.act.code.data %>%
filter(code %in% sorted.by.avgWage$code) %>%
group_by(name) %>% slice_max(numInsured, with_ties = FALSE) %>%
ggplot(aes(x = reorder(name, -numInsured), y = numInsured)) +
geom_col(aes(fill = name)) +
theme(axis.text.x = element_blank()) +
xlab('name') +
ylab('Apdrausti')
ggsave("uzduotis_3.png", path = "../img")
### 11 variantas (eco: 561000  Matas	P	2021-03-23	10:20)
library(ggplot2)
library(tidyverse)
library(hrbrthemes)
library(viridis)
library(lubridate)
### 1
data <- read_csv("../data/lab_sodra.csv")
eco.act.code.data <- data %>%
filter(ecoActCode == "561000")
eco.act.code.data %>%
ggplot(aes(x = avgWage)) +
geom_histogram(bins = 90, col = 18, fill = 1)
ggsave("uzduotis_1.png", path = "../img")
### 2
sorted.by.avgWage <- eco.act.code.data %>%
group_by(code) %>%
summarise(avg = mean(avgWage)) %>%
arrange(desc(avg)) %>%
head(5)
eco.act.code.data$month <- format(parse_date(as.character(eco.act.code.data$month), format = "%Y %m"), format = "%Y %m")
eco.act.code.data %>%
filter(code %in% sorted.by.avgWage$code) %>%
ggplot(aes(x = month, y = avgWage, group = name, color = name)) +
geom_line() +
scale_color_viridis(discrete = TRUE) +
ggtitle("Average Wage") +
theme_ipsum() +
theme(axis.text.x = element_text(angle = 30, size = 10))
ggsave("uzduotis_2.png", path = "../img")
### 3
eco.act.code.data %>%
filter(code %in% sorted.by.avgWage$code) %>%
group_by(name) %>% slice_max(numInsured, with_ties = FALSE) %>%
ggplot(aes(x = reorder(name, -numInsured), y = numInsured)) +
geom_col(aes(fill = name)) +
theme(axis.text.x = element_blank()) +
xlab('name') +
ylab('Apdrausti')
ggsave("uzduotis_3.png", path = "../img")
